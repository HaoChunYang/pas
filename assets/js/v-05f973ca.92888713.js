(self.webpackChunkbugu=self.webpackChunkbugu||[]).push([[7993],{9835:(e,s,n)=>{"use strict";n.r(s),n.d(s,{data:()=>a});const a={key:"v-05f973ca",path:"/old_blog/iOS%20WKWebView%20%E5%8A%A0%E8%BD%BD%E7%BD%91%E9%A1%B5404%E7%AD%89%20%E8%8E%B7%E5%8F%96%E7%8A%B6%E6%80%81%E7%A0%81.html",title:"",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"WKWebView 获取状态码",slug:"wkwebview-获取状态码",children:[]},{level:2,title:"请求被重定向调用的方法",slug:"请求被重定向调用的方法",children:[]}],filePathRelative:"old_blog/iOS WKWebView 加载网页404等 获取状态码.md",git:{updatedTime:1597237797e3}}},1555:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>i});const a=(0,n(6252).uE)('<h2 id="wkwebview-获取状态码"><a class="header-anchor" href="#wkwebview-获取状态码">#</a> WKWebView 获取状态码</h2><p>代码如下：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>- (void)webView:(WKWebView *)webView didFinishNavigation:(WKNavigation *)navigation {\n\n    NSURLSessionDataTask *dataTask = [[NSURLSession sharedSession] dataTaskWithURL:webView.URL completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {\n\n        NSHTTPURLResponse *tmpresponse = (NSHTTPURLResponse*)response;\n\n        NSLog(@&quot;statusCode:%ld&quot;, tmpresponse.statusCode);\n\n    }];\n\n    [dataTask resume];\n\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>拿到状态码之后可以自由做处理。</p><h2 id="请求被重定向调用的方法"><a class="header-anchor" href="#请求被重定向调用的方法">#</a> 请求被重定向调用的方法</h2><p>顺便说一下请求被重定向调用的方法：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>- (void)webView:(WKWebView *)webView didReceiveServerRedirectForProvisionalNavigation:(WKNavigation *)navigation\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',7),i={render:function(e,s){return a}}}}]);