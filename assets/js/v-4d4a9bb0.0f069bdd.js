(self.webpackChunkbugu=self.webpackChunkbugu||[]).push([[5275],{8142:(e,n,i)=>{"use strict";i.r(n),i.d(n,{data:()=>a});const a={key:"v-4d4a9bb0",path:"/old_blog/iOS%E5%BC%80%E5%8F%91WKWebView%E5%8A%A0%E8%BD%BD%E7%9A%84h5%E8%B0%83%E7%94%A8%E6%8B%A8%E6%89%93%E7%94%B5%E8%AF%9D%E5%8A%9F%E8%83%BD.html",title:"",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[],filePathRelative:"old_blog/iOS开发WKWebView加载的h5调用拨打电话功能.md",git:{updatedTime:1597237797e3}}},8483:(e,n,i)=>{"use strict";i.r(n),i.d(n,{default:()=>s});const a=(0,i(6252).uE)('<p>iOS开发WKWebView加载的h5调用拨打电话功能</p><p>H5的拨打电话代码:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;a href=&quot;tel:12123&quot;&gt;拨打电话12123&lt;/a&gt;  \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><code>UIWebView</code>加载的<code>h5</code>，可以调用；但是<code>WKWebView</code>就是不行，找了半天，最后解决，在<code>WKWebView</code>的<code>WKNavigationDelegate</code>代理方法处理，代码如下：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// 处理拨打电话以及Url跳转等等  \n- (void)webView:(WKWebView *)webView decidePolicyForNavigationAction:(WKNavigationAction *)navigationAction decisionHandler:(void (^)(WKNavigationActionPolicy))decisionHandler {  \n    NSURL *URL = navigationAction.request.URL;  \n    NSString *scheme = [URL scheme];  \n    if ([scheme isEqualToString:@&quot;tel&quot;]) {  \n        NSString *resourceSpecifier = [URL resourceSpecifier];  \n        NSString *callPhone = [NSString stringWithFormat:@&quot;telprompt://%@&quot;, resourceSpecifier];  \n        [[UIApplication sharedApplication] openURL:[NSURL URLWithString:callPhone]];  \n    }  \n    decisionHandler(WKNavigationActionPolicyAllow);  \n}  \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>',5),s={render:function(e,n){return a}}}}]);