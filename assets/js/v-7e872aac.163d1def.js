(self.webpackChunkbugu=self.webpackChunkbugu||[]).push([[1706],{8271:(n,s,a)=>{"use strict";a.r(s),a.d(s,{data:()=>t});const t={key:"v-7e872aac",path:"/iOS/iOS_NSAttributedString%E6%89%80%E6%9C%89%E6%96%87%E6%9C%AC%E5%B1%9E%E6%80%A7%E8%AF%A6%E8%A7%A3.html",title:"iOS NSAttributedString所有文本属性详解",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"NSAttributedString所有Key",slug:"nsattributedstring所有key",children:[]},{level:2,title:"字体，颜色，背景色",slug:"字体-颜色-背景色",children:[]},{level:2,title:"下划线",slug:"下划线",children:[]},{level:2,title:"描边",slug:"描边",children:[]},{level:2,title:"附属属性（例如图片）",slug:"附属属性-例如图片",children:[]},{level:2,title:"绘制风格",slug:"绘制风格",children:[]},{level:2,title:"阴影",slug:"阴影",children:[]},{level:2,title:"文字效果",slug:"文字效果",children:[]},{level:2,title:"链接",slug:"链接",children:[]},{level:2,title:"文字连体",slug:"文字连体",children:[]},{level:2,title:"字符间隔",slug:"字符间隔",children:[]},{level:2,title:"baseline基础偏移量",slug:"baseline基础偏移量",children:[]},{level:2,title:"字体倾斜",slug:"字体倾斜",children:[]},{level:2,title:"字体扁平化",slug:"字体扁平化",children:[]}],filePathRelative:"iOS/iOS_NSAttributedString所有文本属性详解.md",git:{updatedTime:1600064042e3}}},9326:(n,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});const t=(0,a(6252).uE)('<h1 id="ios-nsattributedstring所有文本属性详解"><a class="header-anchor" href="#ios-nsattributedstring所有文本属性详解">#</a> iOS NSAttributedString所有文本属性详解</h1><h2 id="nsattributedstring所有key"><a class="header-anchor" href="#nsattributedstring所有key">#</a> NSAttributedString所有Key</h2><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code><span class="token builtin">NSFontAttributeName</span><span class="token punctuation">;</span> <span class="token comment">//字体，value是UIFont对象</span>\n<span class="token builtin">NSParagraphStyleAttributeName</span><span class="token punctuation">;</span><span class="token comment">//绘图的风格（居中，换行模式，间距等诸多风格），value是NSParagraphStyle对象</span>\n<span class="token builtin">NSForegroundColorAttributeName</span><span class="token punctuation">;</span><span class="token comment">// 文字颜色，value是UIFont对象</span>\n<span class="token builtin">NSBackgroundColorAttributeName</span><span class="token punctuation">;</span><span class="token comment">// 背景色，value是UIFont</span>\n<span class="token builtin">NSLigatureAttributeName</span><span class="token punctuation">;</span> <span class="token comment">//  字符连体，value是NSNumber</span>\n<span class="token builtin">NSKernAttributeName</span><span class="token punctuation">;</span> <span class="token comment">// 字符间隔</span>\n<span class="token builtin">NSStrikethroughStyleAttributeName</span><span class="token punctuation">;</span><span class="token comment">//删除线，value是NSNumber</span>\n<span class="token builtin">NSUnderlineStyleAttributeName</span><span class="token punctuation">;</span><span class="token comment">//下划线，value是NSNumber</span>\n<span class="token builtin">NSStrokeColorAttributeName</span><span class="token punctuation">;</span> <span class="token comment">//描绘边颜色，value是UIColor</span>\n<span class="token builtin">NSStrokeWidthAttributeName</span><span class="token punctuation">;</span> <span class="token comment">//描边宽度，value是NSNumber</span>\n<span class="token builtin">NSShadowAttributeName</span><span class="token punctuation">;</span> <span class="token comment">//阴影，value是NSShadow对象</span>\n<span class="token builtin">NSTextEffectAttributeName</span><span class="token punctuation">;</span> <span class="token comment">//文字效果，value是NSString</span>\n<span class="token builtin">NSAttachmentAttributeName</span><span class="token punctuation">;</span><span class="token comment">//附属，value是NSTextAttachment 对象</span>\n<span class="token builtin">NSLinkAttributeName</span><span class="token punctuation">;</span><span class="token comment">//链接，value是NSURL or NSString</span>\n<span class="token builtin">NSBaselineOffsetAttributeName</span><span class="token punctuation">;</span><span class="token comment">//基础偏移量，value是NSNumber对象</span>\n<span class="token builtin">NSUnderlineColorAttributeName</span><span class="token punctuation">;</span><span class="token comment">//下划线颜色，value是UIColor对象</span>\n<span class="token builtin">NSStrikethroughColorAttributeName</span><span class="token punctuation">;</span><span class="token comment">//删除线颜色，value是UIColor</span>\n<span class="token builtin">NSObliquenessAttributeName</span><span class="token punctuation">;</span> <span class="token comment">//字体倾斜</span>\n<span class="token builtin">NSExpansionAttributeName</span><span class="token punctuation">;</span> <span class="token comment">//字体扁平化</span>\n<span class="token builtin">NSVerticalGlyphFormAttributeName</span><span class="token punctuation">;</span><span class="token comment">//垂直或者水平，value是 NSNumber，0表示水平，1垂直</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="字体-颜色-背景色"><a class="header-anchor" href="#字体-颜色-背景色">#</a> 字体，颜色，背景色</h2><p>涉及到的属性</p><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code><span class="token operator">-</span> <span class="token builtin">NSFontAttributeName</span>\n<span class="token operator">-</span> <span class="token builtin">NSForegroundColorAttributeName</span>\n<span class="token operator">-</span> <span class="token builtin">NSBackgroundColorAttributeName</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code><span class="token builtin">UILabel</span> <span class="token operator">*</span> <span class="token builtin">Label</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">UILabel</span> alloc<span class="token punctuation">]</span>initWithFrame<span class="token punctuation">:</span><span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>view addSubview<span class="token punctuation">:</span><span class="token builtin">Label</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSMutableAttributedString</span> <span class="token operator">*</span> mutableAttriStr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">NSMutableAttributedString</span> alloc<span class="token punctuation">]</span> initWithString<span class="token punctuation">:</span>@<span class="token string">&quot;bugu&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSDictionary</span> <span class="token operator">*</span> attris <span class="token operator">=</span> @<span class="token punctuation">{</span><span class="token builtin">NSForegroundColorAttributeName</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token builtin">UIColor</span> whiteColor<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token builtin">NSBackgroundColorAttributeName</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token builtin">UIColor</span> grayColor<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token builtin">NSFontAttributeName</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token builtin">UIFont</span> boldSystemFontOfSize<span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span>mutableAttriStr setAttributes<span class="token punctuation">:</span>attris range<span class="token punctuation">:</span><span class="token function">NSMakeRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>mutableAttriStr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">Label</span><span class="token punctuation">.</span>attributedText <span class="token operator">=</span> mutableAttriStr<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="下划线"><a class="header-anchor" href="#下划线">#</a> 下划线</h2><p>涉及到的两个属性</p><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code><span class="token builtin">NSUnderlineStyleAttributeName</span>\n<span class="token builtin">NSUnderlineColorAttributeName</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code><span class="token builtin">UILabel</span> <span class="token operator">*</span> <span class="token builtin">Label</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">UILabel</span> alloc<span class="token punctuation">]</span>initWithFrame<span class="token punctuation">:</span><span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>view addSubview<span class="token punctuation">:</span><span class="token builtin">Label</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSMutableAttributedString</span> <span class="token operator">*</span> mutableAttriStr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">NSMutableAttributedString</span> alloc<span class="token punctuation">]</span> initWithString<span class="token punctuation">:</span>@<span class="token string">&quot;bugu&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSDictionary</span> <span class="token operator">*</span> attris <span class="token operator">=</span> @<span class="token punctuation">{</span><span class="token builtin">NSFontAttributeName</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token builtin">UIFont</span> boldSystemFontOfSize<span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token builtin">NSForegroundColorAttributeName</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token builtin">UIColor</span> redColor<span class="token punctuation">]</span><span class="token punctuation">,</span>                          <span class="token builtin">NSUnderlineStyleAttributeName</span><span class="token punctuation">:</span>@<span class="token punctuation">(</span><span class="token builtin">NSUnderlineStyleSingle</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                             <span class="token builtin">NSUnderlineColorAttributeName</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token builtin">UIColor</span> blueColor<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span>mutableAttriStr setAttributes<span class="token punctuation">:</span>attris range<span class="token punctuation">:</span><span class="token function">NSMakeRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>mutableAttriStr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">Label</span><span class="token punctuation">.</span>attributedText <span class="token operator">=</span> mutableAttriStr<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="描边"><a class="header-anchor" href="#描边">#</a> 描边</h2><p>涉及到的两个属性</p><p>NSStrokeColorAttributeName NSStrokeWidthAttributeName</p><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code><span class="token builtin">UILabel</span> <span class="token operator">*</span> <span class="token builtin">Label</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">UILabel</span> alloc<span class="token punctuation">]</span>initWithFrame<span class="token punctuation">:</span><span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>view addSubview<span class="token punctuation">:</span><span class="token builtin">Label</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSMutableAttributedString</span> <span class="token operator">*</span> mutableAttriStr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">NSMutableAttributedString</span> alloc<span class="token punctuation">]</span> initWithString<span class="token punctuation">:</span>@<span class="token string">&quot;bugu&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSDictionary</span> <span class="token operator">*</span> attris <span class="token operator">=</span> @<span class="token punctuation">{</span><span class="token builtin">NSForegroundColorAttributeName</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token builtin">UIColor</span> whiteColor<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token builtin">NSStrokeColorAttributeName</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token builtin">UIColor</span> greenColor<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token builtin">NSStrokeWidthAttributeName</span><span class="token punctuation">:</span>@<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span>mutableAttriStr setAttributes<span class="token punctuation">:</span>attris range<span class="token punctuation">:</span><span class="token function">NSMakeRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>mutableAttriStr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">Label</span><span class="token punctuation">.</span>attributedText <span class="token operator">=</span> mutableAttriStr<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="附属属性-例如图片"><a class="header-anchor" href="#附属属性-例如图片">#</a> 附属属性（例如图片）</h2><p>涉及到的属性</p><p>NSAttachmentAttributeName</p><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code><span class="token builtin">UILabel</span> <span class="token operator">*</span> <span class="token builtin">Label</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">UILabel</span> alloc<span class="token punctuation">]</span>initWithFrame<span class="token punctuation">:</span><span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>view addSubview<span class="token punctuation">:</span><span class="token builtin">Label</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token comment">//创建Attachment Str</span>\n    <span class="token builtin">NSTextAttachment</span> <span class="token operator">*</span> attach <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">NSTextAttachment</span> alloc<span class="token punctuation">]</span> <span class="token keyword">init</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    attach<span class="token punctuation">.</span>image <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">UIImage</span> imageNamed<span class="token punctuation">:</span>@<span class="token string">&quot;memoAccess&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    attach<span class="token punctuation">.</span>bounds <span class="token operator">=</span> <span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSAttributedString</span> <span class="token operator">*</span> imageStr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">NSAttributedString</span> attributedStringWithAttachment<span class="token punctuation">:</span>attach<span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token comment">//添加</span>\n    <span class="token builtin">NSMutableAttributedString</span> <span class="token operator">*</span> mutableAttriStr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">NSMutableAttributedString</span> alloc<span class="token punctuation">]</span> initWithString<span class="token punctuation">:</span>@<span class="token string">&quot;bugu&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span>mutableAttriStr appendAttributedString<span class="token punctuation">:</span>imageStr<span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">Label</span><span class="token punctuation">.</span>attributedText <span class="token operator">=</span> mutableAttriStr<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="绘制风格"><a class="header-anchor" href="#绘制风格">#</a> 绘制风格</h2><p>!!! <strong>重要</strong></p><p>涉及到的属性</p><p>NSMutableParagraphStyle</p><p>(看起来很奇怪，仅仅为了展示某些功能)</p><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code>@interface <span class="token class-name">TestView</span> <span class="token punctuation">:</span> <span class="token builtin">UIView</span>\n\n@end\n\n@implementation <span class="token builtin">TestView</span>\n<span class="token operator">-</span><span class="token punctuation">(</span>instancetype<span class="token punctuation">)</span>initWithFrame<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token builtin">CGRect</span><span class="token punctuation">)</span>frame<span class="token punctuation">{</span>\n    <span class="token keyword">self</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">super</span> initWithFrame<span class="token punctuation">:</span>frame<span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token constant">nil</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">self</span><span class="token punctuation">.</span>opaque <span class="token operator">=</span> <span class="token constant">NO</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token keyword">self</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// An empty implementation adversely affects performance during animation.</span>\n<span class="token operator">-</span> <span class="token punctuation">(</span>void<span class="token punctuation">)</span>drawRect<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token builtin">CGRect</span><span class="token punctuation">)</span>rect <span class="token punctuation">{</span>\n    <span class="token builtin">NSMutableAttributedString</span> <span class="token operator">*</span> attributeStr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">NSMutableAttributedString</span> alloc<span class="token punctuation">]</span> initWithString<span class="token punctuation">:</span>@<span class="token string">&quot;The anthor of this blog is bugu&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSMutableParagraphStyle</span> <span class="token operator">*</span> paragraphStyle <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">NSMutableParagraphStyle</span> alloc<span class="token punctuation">]</span> <span class="token keyword">init</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    paragraphStyle<span class="token punctuation">.</span>alignment <span class="token operator">=</span> <span class="token builtin">NSTextAlignmentRight</span><span class="token punctuation">;</span>\n    paragraphStyle<span class="token punctuation">.</span>headIndent <span class="token operator">=</span> <span class="token number">4.0</span><span class="token punctuation">;</span>\n    paragraphStyle<span class="token punctuation">.</span>lineBreakMode <span class="token operator">=</span> <span class="token builtin">NSLineBreakByCharWrapping</span><span class="token punctuation">;</span>\n    paragraphStyle<span class="token punctuation">.</span>lineSpacing <span class="token operator">=</span> <span class="token number">2.0</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSDictionary</span> <span class="token operator">*</span> attributes <span class="token operator">=</span> @<span class="token punctuation">{</span><span class="token builtin">NSParagraphStyleAttributeName</span><span class="token punctuation">:</span>paragraphStyle<span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span>attributeStr setAttributes<span class="token punctuation">:</span>attributes range<span class="token punctuation">:</span><span class="token function">NSMakeRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> attributeStr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span>attributeStr drawInRect<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>bounds<span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code>    <span class="token builtin">TestView</span>  <span class="token operator">*</span>test <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">TestView</span> alloc<span class="token punctuation">]</span> initWithFrame<span class="token punctuation">:</span><span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>view addSubview<span class="token punctuation">:</span>test<span class="token punctuation">]</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="阴影"><a class="header-anchor" href="#阴影">#</a> 阴影</h2><p>涉及到的属性</p><p>NSShadowAttributeName</p><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code><span class="token builtin">UILabel</span> <span class="token operator">*</span> <span class="token builtin">Label</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">UILabel</span> alloc<span class="token punctuation">]</span>initWithFrame<span class="token punctuation">:</span><span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>view addSubview<span class="token punctuation">:</span><span class="token builtin">Label</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSMutableAttributedString</span> <span class="token operator">*</span> mutableAttriStr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">NSMutableAttributedString</span> alloc<span class="token punctuation">]</span> initWithString<span class="token punctuation">:</span>@<span class="token string">&quot;bugu&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSShadow</span> <span class="token operator">*</span> shadow <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">NSShadow</span> alloc<span class="token punctuation">]</span> <span class="token keyword">init</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    shadow<span class="token punctuation">.</span>shadowColor <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">UIColor</span> blueColor<span class="token punctuation">]</span><span class="token punctuation">;</span>\n    shadow<span class="token punctuation">.</span>shadowBlurRadius <span class="token operator">=</span> <span class="token number">2.0</span><span class="token punctuation">;</span>\n    shadow<span class="token punctuation">.</span>shadowOffset <span class="token operator">=</span> <span class="token function">CGSizeMake</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSDictionary</span> <span class="token operator">*</span> attris <span class="token operator">=</span> @<span class="token punctuation">{</span><span class="token builtin">NSShadowAttributeName</span><span class="token punctuation">:</span>shadow<span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span>mutableAttriStr setAttributes<span class="token punctuation">:</span>attris range<span class="token punctuation">:</span><span class="token function">NSMakeRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>mutableAttriStr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">Label</span><span class="token punctuation">.</span>attributedText <span class="token operator">=</span> mutableAttriStr<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="文字效果"><a class="header-anchor" href="#文字效果">#</a> 文字效果</h2><p>相关属性</p><p>NSTextEffectAttributeName</p><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code><span class="token builtin">UILabel</span> <span class="token operator">*</span> <span class="token builtin">Label</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">UILabel</span> alloc<span class="token punctuation">]</span>initWithFrame<span class="token punctuation">:</span><span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>view addSubview<span class="token punctuation">:</span><span class="token builtin">Label</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSMutableAttributedString</span> <span class="token operator">*</span> mutableAttriStr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">NSMutableAttributedString</span> alloc<span class="token punctuation">]</span> initWithString<span class="token punctuation">:</span>@<span class="token string">&quot;bugu&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSDictionary</span> <span class="token operator">*</span> attris <span class="token operator">=</span> @<span class="token punctuation">{</span><span class="token builtin">NSTextEffectAttributeName</span><span class="token punctuation">:</span><span class="token builtin">NSTextEffectLetterpressStyle</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span>mutableAttriStr setAttributes<span class="token punctuation">:</span>attris range<span class="token punctuation">:</span><span class="token function">NSMakeRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>mutableAttriStr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">Label</span><span class="token punctuation">.</span>attributedText <span class="token operator">=</span> mutableAttriStr<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="链接"><a class="header-anchor" href="#链接">#</a> 链接</h2><p>相关属性</p><p>NSLinkAttributeName</p><p>例子</p><p>点击打开链接</p><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code>@interface <span class="token class-name">ViewController</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token builtin">UITextViewDelegate</span><span class="token operator">&gt;</span>\n\n@end\n\n@implementation <span class="token builtin">ViewController</span>\n\n\n<span class="token operator">-</span> <span class="token punctuation">(</span>void<span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>\n    <span class="token punctuation">[</span><span class="token keyword">super</span> viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">UITextView</span> <span class="token operator">*</span>textView <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">UITextView</span> alloc<span class="token punctuation">]</span> initWithFrame<span class="token punctuation">:</span><span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    textView<span class="token punctuation">.</span>scrollEnabled <span class="token operator">=</span> <span class="token constant">NO</span><span class="token punctuation">;</span>\n    textView<span class="token punctuation">.</span>editable <span class="token operator">=</span> <span class="token constant">NO</span><span class="token punctuation">;</span>\n    textView<span class="token punctuation">.</span>textContainer<span class="token punctuation">.</span>lineFragmentPadding <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n    textView<span class="token punctuation">.</span>textContainerInset <span class="token operator">=</span> <span class="token function">UIEdgeInsetsMake</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    textView<span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>view addSubview<span class="token punctuation">:</span>textView<span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSMutableAttributedString</span> <span class="token operator">*</span> mutableAttriStr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">NSMutableAttributedString</span> alloc<span class="token punctuation">]</span> initWithString<span class="token punctuation">:</span>@<span class="token string">&quot;bugu&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSDictionary</span> <span class="token operator">*</span> attris <span class="token operator">=</span> @<span class="token punctuation">{</span><span class="token builtin">NSLinkAttributeName</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token constant">NSURL</span> <span class="token builtin">URLWithString</span><span class="token punctuation">:</span>@<span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span>mutableAttriStr setAttributes<span class="token punctuation">:</span>attris range<span class="token punctuation">:</span><span class="token function">NSMakeRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>mutableAttriStr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    textView<span class="token punctuation">.</span>attributedText <span class="token operator">=</span> mutableAttriStr<span class="token punctuation">;</span>\n        <span class="token comment">// Do any additional setup after loading the view, typically from a nib.</span>\n<span class="token punctuation">}</span>\n<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token constant">BOOL</span><span class="token punctuation">)</span>textView<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token builtin">UITextView</span> <span class="token operator">*</span><span class="token punctuation">)</span>textView shouldInteractWithURL<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token constant">NSURL</span> <span class="token operator">*</span><span class="token punctuation">)</span>url inRange<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token builtin">NSRange</span><span class="token punctuation">)</span>characterRange\n<span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token constant">YES</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="文字连体"><a class="header-anchor" href="#文字连体">#</a> 文字连体</h2><p>涉及到的属性</p><p>NSLigatureAttributeName</p><p>举例</p><p>NSLigatureAttributeName 属性位@(0) 和@(1)</p><h2 id="字符间隔"><a class="header-anchor" href="#字符间隔">#</a> 字符间隔</h2><p>相关属性</p><p>NSKernAttributeName</p><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code><span class="token builtin">UILabel</span> <span class="token operator">*</span> <span class="token builtin">Label</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">UILabel</span> alloc<span class="token punctuation">]</span>initWithFrame<span class="token punctuation">:</span><span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>view addSubview<span class="token punctuation">:</span><span class="token builtin">Label</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSMutableAttributedString</span> <span class="token operator">*</span> mutableAttriStr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">NSMutableAttributedString</span> alloc<span class="token punctuation">]</span> initWithString<span class="token punctuation">:</span>@<span class="token string">&quot;bugu&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">NSDictionary</span> <span class="token operator">*</span> attris <span class="token operator">=</span> @<span class="token punctuation">{</span><span class="token builtin">NSKernAttributeName</span><span class="token punctuation">:</span>@<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                              <span class="token builtin">NSFontAttributeName</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token builtin">UIFont</span> systemFontOfSize<span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span>mutableAttriStr setAttributes<span class="token punctuation">:</span>attris range<span class="token punctuation">:</span><span class="token function">NSMakeRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>mutableAttriStr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token builtin">Label</span><span class="token punctuation">.</span>attributedText <span class="token operator">=</span> mutableAttriStr<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="baseline基础偏移量"><a class="header-anchor" href="#baseline基础偏移量">#</a> baseline基础偏移量</h2><p>相关属性</p><ul><li>NSBaselineOffsetAttributeName</li></ul><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code><span class="token builtin">NSDictionary</span> <span class="token operator">*</span> attris <span class="token operator">=</span> @<span class="token punctuation">{</span><span class="token builtin">NSBaselineOffsetAttributeName</span><span class="token punctuation">:</span>@<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                              <span class="token builtin">NSFontAttributeName</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token builtin">UIFont</span> systemFontOfSize<span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="字体倾斜"><a class="header-anchor" href="#字体倾斜">#</a> 字体倾斜</h2><p>相关属性</p><p>NSObliquenessAttributeName</p><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code>   <span class="token builtin">NSDictionary</span> <span class="token operator">*</span> attris <span class="token operator">=</span> @<span class="token punctuation">{</span><span class="token builtin">NSObliquenessAttributeName</span><span class="token punctuation">:</span>@<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                              <span class="token builtin">NSFontAttributeName</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token builtin">UIFont</span> systemFontOfSize<span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="字体扁平化"><a class="header-anchor" href="#字体扁平化">#</a> 字体扁平化</h2><p>相关属性</p><p>NSExpansionAttributeName</p><div class="language-swift ext-swift line-numbers-mode"><pre class="language-swift"><code><span class="token builtin">NSDictionary</span> <span class="token operator">*</span> attris <span class="token operator">=</span> @<span class="token punctuation">{</span><span class="token builtin">NSExpansionAttributeName</span><span class="token punctuation">:</span>@<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                              <span class="token builtin">NSFontAttributeName</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token builtin">UIFont</span> systemFontOfSize<span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>',61),p={render:function(n,s){return t}}}}]);