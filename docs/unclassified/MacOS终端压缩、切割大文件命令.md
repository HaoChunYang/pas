# MacOS终端压缩、切割大文件命令

有一些公司邮箱对附件文件大小有限制。需要对文件进行切分。在windows系统上可以有方便的压缩工具来实现。在Mac系统上可以使用命令行来实现。

## 使用 zip 命令压缩文件

简单使用：
```
zip - fileName
```
会生成`fileName.zip`文件


## 切割大文件与合并

在切割一些大文件的时候可以使用下面的命令，切割之后的小文件名称默认是以 `x` 开头，后缀为两位 `a-z` 字母的组合，例如 `xaa`,`xab`,`xac`

```
split -b 10m 大文件名.pdf
```
- `-b` 指定切割的片段的字节数，另外支持字节单位 `k` (千字节) 和 `m（兆字节）`
- `10m` 每10m 切一段（可以指定自己想要的大小）
- `大文件名.pdf` 需要切割的文件

## 合并

切割之后的片段我们可以使用下面的命令合并成大文件
```
cat x* > 大文件名.pdf
```
- `x*` 代表所有的小文件片段
- `>` 指定合成的文件存储名称
- `大文件名.pdf` 合成之后的大文件

## 使用 zip 命令压缩文件，并切割文件

`zip - <file_name> | split -b <max_size>`

## 使用 tar 命令压缩文件

1. 使用 tar 命令来创建压缩文件，如：

`tar czvf - <file_name> | split -b <max_size>`

2. 使用 tar 解压：

`cat x* | tar xzvf -`


**split命令详解**
```
split [-a] [-b] [-C] [-l] [要分割的文件名] [分割后的文件名前缀]

–version 显示版本信息
– 或者-l,指定每多少行切割一次，用于文本文件分割
-b 指定切割文件大小,单位 m 或 k
-C 与-b类似，但尽量维持每行完整性
-d 使用数字而不是字母作为后缀名
-a 指定后缀名的长度，默认为2位
```

*例如：*#把 xcode.dmg 这个文件以 xcode.dmg. 开头，按1024m大小进行分割
```
split -b 1024m xcode.dmg xcode.dmg.
```
切割成以`xcode.dmg.`开头的文件


**zip命令详解**
```
zip -P [password] [-r] [ziped file name] [origin filename]
```
*例如：*
`zip -P 123 -r 123.zip 123.pdf`

- `-P` 指定密码
- `123` 密码
- `-r` 文件夹递归处理，压缩文件夹以及里面的文件使用
- `123.zip` 压缩之后的文件
- `123.pdf` 压缩之前的文件